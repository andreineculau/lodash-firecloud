{"version":3,"sources":["../../src/mixins/tpl.index.js"],"names":[],"mappings":"AAAA;;AAEA;AACA;AACA;AACA,oD;;AAEA,IAAI,UAAU,GAAG,YAAG,WAAH,CAAe,SAAf,CAAjB,C;AACA,qBAAA,UAAU,GAAG,gBAAE,MAAF,qBAAqB,UAAS,GAAT,EAAc,WAAd,EAA2B;AAC3D,MAAI,cAAK,OAAL,CAAa,WAAb,MAA8B,KAAlC,EAAyC;AACvC,WAAO,GAAP;AACD;;AAED,MAAI,gBAAE,QAAF,CAAW;AACb,gBADa;AAEb,YAFa;AAGb,gBAHa,CAAX;AAID,EAAA,WAJC,CAAJ,EAIiB;AACf,WAAO,GAAP;AACD;;AAED,EAAA,WAAW,GAAI,KAAI,WAAY,EAA/B;;AAEA;AACA,MAAI,MAAM,GAAG,OAAO,CAAC,WAAD,CAApB;;AAEA,EAAA,MAAM,GAAG,gBAAE,IAAF,CAAO,MAAP,EAAe;AACtB,WADsB,CAAf,CAAT;;;AAIA,EAAA,GAAG,GAAG,gBAAE,KAAF,CAAQ,GAAR,EAAa;AACjB,KAAC,WAAD,GAAe,gBAAE,IAAF,CAAO,MAAP,CADE,EAAb,CAAN;;AAGA,SAAO,GAAP;AACD,CA1BY,EA0BV,EA1BU,CAAb;;AA4BA,IAAI,IAAI,GAAG,gBAAE,QAAF,CAAW,gBAAQ;;;;;;;;;CAAnB,CAAX;;AAWA;oBACA,OAAO,CAAC,GAAR,CAAY,aAAK;AACf,EAAA,UAAU,oBADK,EAAL,CAAZ","file":"tpl.index.js","sourcesContent":["#!/usr/bin/env node-esm\n\nimport _ from 'lodash';\nimport fs from 'fs';\nimport outdent from 'outdent';\nimport path from 'path';\n\nlet _mixinData = fs.readdirSync(__dirname);\n_mixinData = _.reduce(_mixinData, function(acc, mixinModule) {\n  if (path.extname(mixinModule) !== '.js') {\n    return acc;\n  }\n\n  if (_.includes([\n    '.eslintrc.js',\n    'index.js',\n    'tpl.index.js'\n  ], mixinModule)) {\n    return acc;\n  }\n\n  mixinModule = `./${mixinModule}`;\n\n  // eslint-disable-next-line global-require\n  let mixins = require(mixinModule);\n\n  mixins = _.omit(mixins, [\n    'default'\n  ]);\n\n  acc = _.merge(acc, {\n    [mixinModule]: _.keys(mixins)\n  });\n  return acc;\n}, {});\n\nlet _tpl = _.template(outdent`\n  <% _.forEach(_mixinData, function(mixins, mixinModule) { %>\n  import {\n    <%= _.join(mixins, ',\\\\n  ') %>\n  } from '<%= mixinModule %>';\n  <% }) %>\n  export default {\n    <%= _.join(_.flatten(_.values(_mixinData)), ',\\\\n  ') %>\n  };\n`);\n\n// eslint-disable-next-line no-console\nconsole.log(_tpl({\n  _mixinData\n}));\n"]}