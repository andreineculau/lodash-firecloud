{"version":3,"sources":["../../src/mixins/once-in.js"],"names":[],"mappings":"sHAAA;AACA;AACA;AACO,IAAI,MAAM,GAAG,UAAS,EAAT,EAAa,QAAb,EAAuB;AACzC,MAAI,cAAc,GAAG,CAArB;AACA,MAAI,gBAAJ;;AAEA,MAAI,QAAQ,GAAG,UAAS,GAAG,IAAZ,EAAkB;AAC/B,QAAI,GAAG,GAAG,IAAI,CAAC,GAAL,EAAV;AACA,QAAI,GAAG,GAAG,cAAN,GAAuB,QAA3B,EAAqC;AACnC,aAAO,gBAAP;AACD;;AAED,IAAA,cAAc,GAAG,GAAjB;AACA,IAAA,gBAAgB,GAAG,EAAE,CAAC,GAAG,IAAJ,CAArB;AACA,WAAO,gBAAP;AACD,GATD;;AAWA;AACA,MAAI,QAAQ,KAAK,CAAjB,EAAoB;AAClB,IAAA,QAAQ,GAAG,UAAS,GAAG,IAAZ,EAAkB;AAC3B,aAAO,EAAE,CAAC,GAAG,IAAJ,CAAT;AACD,KAFD;AAGD;;AAED;AACA,EAAA,QAAQ,CAAC,KAAT,GAAiB,YAAW;AAC1B,IAAA,cAAc,GAAG,CAAjB;AACD,GAFD;AAGA,EAAA,QAAQ,CAAC,KAAT,GAAiB,QAAQ,CAAC,KAA1B;;AAEA,SAAO,QAAP;AACD,CA7BM,C","file":"once-in.js","sourcesContent":["// \"true throttle\"\n// custom implementation of _.throttle with 'trailing': false,\n// does not allocate unnecessary timer, comparing to lodash func (which invokes debounce under the hood)\nexport let onceIn = function(fn, interval) {\n  let lastInvokeTime = 0;\n  let lastInvokeResult;\n\n  let toInvoke = function(...args) {\n    let now = Date.now();\n    if (now - lastInvokeTime < interval) {\n      return lastInvokeResult;\n    }\n\n    lastInvokeTime = now;\n    lastInvokeResult = fn(...args);\n    return lastInvokeResult;\n  };\n\n  // special case for direct call\n  if (interval === 0) {\n    toInvoke = function(...args) {\n      return fn(...args);\n    };\n  }\n\n  // _.throttle consistency\n  toInvoke.flush = function() {\n    lastInvokeTime = 0;\n  };\n  toInvoke.clear = toInvoke.flush;\n\n  return toInvoke;\n};\n\nexport default onceIn;\n"]}