{"version":3,"sources":["../../src/mixins/safe-proxy.js"],"names":[],"mappings":"uGAAA;AACA;AACA;;AAEO,IAAI,SAAS,GAAG,UAAS,GAAT,EAAc;AACnC;AACA,MAAI,CAAC,GAAG,IAAR;;AAEA;AACA,SAAO,IAAI,KAAJ,CAAU,GAAV,EAAe;AACpB,IAAA,GAAG,EAAE,UAAS,MAAT,EAAiB,QAAjB,EAA2B,SAA3B,EAAsC;AACzC,UAAI,CAAC,CAAC,QAAF,CAAW,QAAX,KAAwB,CAAC,CAAC,QAAF,CAAW;AACrC,mBADqC;AAErC,cAFqC,CAAX;AAGzB,MAAA,QAHyB,CAA5B,EAGc;AACZ,eAAO,MAAM,CAAC,QAAD,CAAb;AACD;;AAED,UAAI,QAAQ,KAAK,OAAjB,EAA0B;AACxB,eAAO,YAAW;AAChB,cAAI,SAAS,GAAG,CAAC,CAAC,KAAF,CAAQ,MAAR,CAAhB;AACA,iBAAO,CAAC,CAAC,SAAF,CAAY,SAAZ,CAAP;AACD,SAHD;AAID;;AAED,UAAI,CAAC,CAAC,KAAF,CAAQ,MAAM,CAAC,QAAD,CAAd,CAAJ,EAA+B;AAC7B,cAAM,IAAI,KAAJ,CAAW,GAAE,QAAS,cAAtB,CAAN;AACD;;AAED,aAAO,MAAM,CAAC,QAAD,CAAb;AACD,KArBmB,EAAf,CAAP;;AAuBD,CA5BM,C","file":"safe-proxy.js","sourcesContent":["// NOTE if you need to check if an env var exist, use\n// '<var>' in someProxy\n// e.g. if ('PATH' in _.safeProxy(process.env)) { ...do smth with _.safeProxy(process.env).PATH... }\n\nexport let safeProxy = function(env) {\n  // eslint-disable-next-line consistent-this, babel/no-invalid-this\n  let _ = this;\n\n  // eslint-disable-next-line fp/no-proxy\n  return new Proxy(env, {\n    get: function(target, property, _receiver) {\n      if (_.isSymbol(property) || _.includes([\n        'constructor',\n        'length'\n      ], property)) {\n        return target[property];\n      }\n\n      if (property === 'clone') {\n        return function() {\n          let newTarget = _.clone(target);\n          return _.safeProxy(newTarget);\n        };\n      }\n\n      if (_.isNil(target[property])) {\n        throw new Error(`${property} is not set.`);\n      }\n\n      return target[property];\n    }\n  });\n};\n"]}